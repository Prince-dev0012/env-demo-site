<!DOCTYPE html>
<html>
<head>

<title>ENV Final Test</title>

<meta name="viewport"
      content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/js-sha256@0.9.0/src/sha256.min.js"></script>

<style>
body{
  background:black;
  color:lime;
  font-family:Arial;
  padding:20px;
}
.box{
  border:2px solid lime;
  padding:20px;
}
</style>

</head>
<body>

<div class="box">

<h2>ENV Debug Test</h2>

<div id="debug">Generating...</div>

<hr>

<div id="result">
Loading ENV...
</div>

</div>

<script>

/* ===== CONFIG ===== */

const repo="testing-env";
const key ="fdf9119bf119a445";
const salt="my-super-salt-789";

/* ===== SIGNATURE ===== */

const sig=sha256(repo+key+salt);

/* SHOW DEBUG */

document.getElementById("debug")
.innerText=
"Repo: "+repo+"\n"+
"Key: "+key+"\n"+
"Salt: "+salt+"\n\n"+
"Generated Signature:\n"+sig;

/* ===== API CALL ===== */

fetch(
"https://myenv.my-style.in/api.php"+
"?repo="+repo+
"&key="+key+
"&sig="+sig
)

.then(r=>r.json())

.then(env=>{

  document.getElementById("result")
  .innerText=
  JSON.stringify(env,null,2);

})

.catch(err=>{

  document.getElementById("result")
  .innerText=
  "Fetch Error:\n"+err;

});

</script>

</body>
</html>
