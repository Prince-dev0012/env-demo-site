<!DOCTYPE html>
<html>
<head>

<title>ENV JSONP Test</title>

<meta name="viewport"
      content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/js-sha256@0.9.0/src/sha256.min.js"></script>

<style>
body{
  background:black;
  color:lime;
  font-family:Arial;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
</style>

</head>
<body>

<div id="msg">Loading ENV...</div>

<script>

/* ===== CONFIG ===== */

const repo="testing-env";
const key ="fdf9119bf119a445";
const salt="my-super-salt-789";

/* ===== SIGNATURE ===== */

const sig=sha256(repo+key+salt);

/* ===== CALLBACK (NAME MUST MATCH URL) ===== */

function loadENV(env){

  if(env.error){
    document.getElementById("msg")
      .innerText=env.error;
    return;
  }

  document.getElementById("msg")
    .innerText=env.TEST_MESSAGE;

}

/* ===== LOAD JSONP SCRIPT ===== */

const script=document.createElement("script");

script.src=
"https://myenv.my-style.in/api.php"+
"?repo="+repo+
"&key="+key+
"&sig="+sig+
"&callback=loadENV";   // MUST match function name

document.body.appendChild(script);

</script>

</body>
</html>
