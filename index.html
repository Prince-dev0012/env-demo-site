<!DOCTYPE html>
<html>
<head>

  <title>ENV API Test</title>

  <meta name="viewport"
        content="width=device-width, initial-scale=1.0">

  <!-- SHA256 Library -->
  <script src="https://cdn.jsdelivr.net/npm/js-sha256@0.9.0/src/sha256.min.js"></script>

  <style>

    body{
      background:#000;
      color:#0f0;
      font-family:Arial;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
      margin:0;
    }

    .box{
      border:2px solid #0f0;
      padding:30px;
      border-radius:12px;
      box-shadow:0 0 25px #0f0;
      width:90%;
      max-width:500px;
      text-align:center;
    }

    h1{
      margin-bottom:20px;
    }

    .output{
      margin-top:20px;
      padding:15px;
      border:1px dashed #0f0;
      min-height:80px;
      white-space:pre-wrap;
      word-break:break-word;
    }

    .status{
      font-size:13px;
      opacity:0.7;
      margin-top:10px;
    }

  </style>

</head>
<body>

<div class="box">

  <h1>ENV API Test</h1>

  <div id="status">
    Generating signature...
  </div>

  <div class="output" id="output">
    Loading ENV...
  </div>

</div>

<script>

/* ============================= */
/* CONFIG â€” CHANGE IF NEEDED     */
/* ============================= */

const repo = "testing-env";
const key  = "fdf9119bf119a445";
const salt = "my-super-salt-789";

/* ============================= */
/* GENERATE SIGNATURE            */
/* ============================= */

const signature =
  sha256(repo + key + salt);

document.getElementById("status")
  .innerText =
  "Signature Generated:\n" + signature;

/* ============================= */
/* BUILD API URL                 */
/* ============================= */

const apiURL =
  "https://myenv.my-style.in/api.php" +
  "?repo=" + repo +
  "&key=" + key +
  "&sig=" + signature;

console.log("API URL:", apiURL);

/* ============================= */
/* FETCH ENV                     */
/* ============================= */

fetch(apiURL)

.then(res => res.json())

.then(env => {

  console.log("ENV RESPONSE:", env);

  if(env.error){

    document.getElementById("output")
      .innerText =
      "API Error:\n" + env.error;

    return;
  }

  /* Show full ENV JSON */

  document.getElementById("output")
    .innerText =
    JSON.stringify(env, null, 2);

  document.getElementById("status")
    .innerText =
    "ENV Loaded Successfully";

})

.catch(err => {

  document.getElementById("output")
    .innerText =
    "Failed to connect API";

  document.getElementById("status")
    .innerText =
    "Check console for error";

  console.error(err);

});

</script>

</body>
</html>
